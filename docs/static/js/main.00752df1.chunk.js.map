{"version":3,"sources":["assets/images/controls/flechas_inferior.png","assets/images/controls/flechas_superior.png","assets/images/controls/nivel_0.png","assets/images/controls/mapa_1.png","assets/images/controls/opener_menu.png","assets/images/decoration/marco.png","assets/images/decoration/gema_verde.png","assets/images/misc/mist.png","assets/images/controls/nivel_1.png","assets/images/controls/nivel_2.png","assets/images/controls/nivel_3.png","assets/images/controls/nivel_4.png","assets/images/controls/nivel_5.png","assets/images/controls/nivel_6.png","assets/images/controls/nivel_7.png","assets/images/controls/nivel_8.png","assets/images/controls/nivel_9.png","assets/images/controls/nivel_10.png","assets/images/controls/nivel_-1.png","assets/images/controls/nivel_-2.png","assets/images/controls/nivel_-3.png","assets/images/controls/nivel_-4.png","assets/images/controls/nivel_-5.png","assets/images/controls/nivel_-6.png","assets/images/controls/nivel_-7.png","assets/images/controls/nivel_-8.png","assets/images/controls/nivel_-9.png","assets/images/controls/nivel_-10.png","assets/images/controls/mapa_2.png","assets/images/controls/mapa_3.png","assets/images/controls/mapa_4.png","assets/images/controls/mapa_5.png","assets/images/controls/mapa_6.png","assets/images/controls/mapa_7.png","assets/images/controls/mapa_8.png","assets/images/controls/mapa_9.png","assets/images/controls/mapa_10.png","assets/images/levels/mapa_prueba_1.png","assets/images/levels/mapa_prueba_2.png","assets/images/levels/level21.png","assets/images/levels/level22.png","assets/images/levels/level23.png","assets/images/pjs/gunar.png","assets/images/pjs/aliena.png","assets/images/pjs/elba.png","assets/images/enemies/base.png","assets/images/enemies/elite.png","assets/images/enemies/boss.png","assets/images/banners/banner_enemigo_base.png","assets/images/banners/banner_enemigo_elite.png","assets/images/banners/banner_enemigo_boss.png","assets/images/banners/banner_azul.png","assets/images/banners/banner_verde.png","assets/images/banners/banner_rojo.png","assets/images/controls/sumar_enemigos.png","assets/images/controls/restar_enemigos.png","components/Map.jsx","components/SliderMenu.jsx","components/TerritoryMenu.jsx","components/TerritoryPreview.jsx","lib/util.js","lib/event/EventBus.js","lib/entities/Parent.js","lib/entities/constants.js","lib/entities/GameToken.js","lib/entities/GameLevel.js","lib/entities/Territory.js","lib/entities/Mist.js","lib/entities/Game.js","lib/controllers/Map.js","components/PlayersMenu.jsx","components/EnemiesMenu.jsx","components/Levels.jsx","components/Territories.jsx","components/PlayerManager.jsx","configuration/configuration.js","components/Menu.jsx","components/EnemyManager.jsx","components/App.jsx","index.jsx"],"names":["module","exports","Map","this","props","mapController","init","Fragment","id","className","React","Component","openArrow","backgroundImage","opener","backgroundSize","backgroundRepeat","height","width","margin","circleImage","gema","border","borderImage","marco","SliderMenu","inheritedClasses","children","anchor","classes","makeStyles","theme","root","transition","transitions","create","easing","easeInOut","duration","breakpoints","up","rootLG","root_close","rootCloseLG","drawer","drawerLG","drawerPaper","drawerPaperLG","drawerPaper_close","drawerPaperCloseLG","cursor","openerLG","opener_close","openerCloseLG","containerOpener","containerOpener_close","subcontainer","useStyles","useState","open","isOpen","openerClass","drawerClass","rootClass","onClick","CssBaseline","Drawer","variant","paper","drawerWidth","TerritoryMenu","length","position","top","left","flexShrink","backgroundColor","transform","opacity","padding","borderRadius","display","title","alignItems","img","TerritoryPreview","Typography","align","src","name","alt","generateID","instance","rand","Math","random","toString","slice","validate","options","parameters","forEach","parameter","console","warn","undefined","subscribers","eventType","args","filter","subscriber","callback","push","evtType","Parent","eventBus","emit","addSubscriber","extent","projection","Projection","code","units","limit","buffer","GameToken","coords","feature","Feature","Point","size","scale","image","Icon","style","Style","olLayer","VectorLayer","renderBuffer","zIndex","source","VectorSource","features","resolution","proportion","setScale","visionRange","map","addLayer","window","setVisible","getGeometry","getCoordinates","getPixelFromCoordinate","center","radius","sides","unit","PI","angles","i","angle","cos","sin","getRegularPolygon","object","GameLevel","active","ImageLayer","Static","url","imageExtent","visible","tokens","token","addTo","concat","activate","deactivate","Territory","gameLevels","config","gameLevel","MistManager","translate","createCircleMistEvent","addTranslateEvent","on","log","removeTranslaterEvent","un","createCircleMist","geometry","Polygon","layer","fill","Fill","color","set","canvas","document","createElement","ctx","getContext","Image","onload","drawImage","pattern","createPattern","setStyle","mistImage","flag","diff","polygonCoords","newGeom","coordinates","getContainerPolygon","polygon","createPolygon","circle","difference","type","MultiPolygon","setCoordinates","setGeometry","Game","controls","target","view","View","getCenter","zoom","maxZoom","Translate","get","addInteraction","mistManger","game","territories","territory","find","games","configuration","setActive","MapControllerBuilder","conf","PlayersMenu","maxHeight","flexDirection","EnemiesMenu","levels","nivel_0","nivel_1","nivel_2","nivel_3","nivel_4","nivel_5","nivel_6","nivel_7","nivel_8","nivel_9","nivel_10","nivel_neg_1","nivel_neg_2","nivel_neg_3","nivel_neg_4","nivel_neg_5","nivel_neg_6","nivel_neg_7","nivel_neg_8","nivel_neg_9","nivel_neg_10","Levels","onChangeDown","newLevel","state","level","imgLevel","setState","onChangeUp","classNames","flecha_superior","arrow_up","flecha_inferior","arrow_down","withStyles","arrows","mapa_1","mapa_2","mapa_3","mapa_4","mapa_5","mapa_6","mapa_7","mapa_8","mapa_9","mapa_10","Territories","newTerritory","PlayerManager","background","imgContainer","justifyContent","enemyTokens","baseEnemy","backgroundBase","eliteEnemy","backgroundElite","bossEnemy","backgroundBoss","playerTokens","gunar","banner_azul","aliena","banner_rojo","elba","banner_verde","level11_img","level12_img","level21_img","level22_img","level23_img","right","Menu","EnemyManager","containerButtons","addSrc","removeSrc","mapSelector","App","builder","min","key","enemy","player","ReactDOM","render","getElementById"],"mappings":"gHAAAA,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,wBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,mBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,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","file":"static/js/main.00752df1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/flechas_inferior.8a6fc9c0.png\";","module.exports = __webpack_public_path__ + \"static/media/flechas_superior.e1a469cf.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_0.4de1ce92.png\";","module.exports = __webpack_public_path__ + \"static/media/mapa_1.049d7ba8.png\";","module.exports = __webpack_public_path__ + \"static/media/opener_menu.abf5d192.png\";","module.exports = __webpack_public_path__ + \"static/media/marco.d11b65bb.png\";","module.exports = __webpack_public_path__ + \"static/media/gema_verde.506ffbc6.png\";","module.exports = __webpack_public_path__ + \"static/media/mist.f604e9c8.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_1.d7d68e1e.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_2.d75b3b81.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_3.83bc259e.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_4.de8f37e5.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_5.b6c07c49.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_6.5eb45cc3.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_7.79d0b4ea.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_8.56acb3eb.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_9.6d781354.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_10.1023e90b.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_-1.c2038015.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_-2.7b063978.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_-3.a2ee0fd6.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_-4.03e41fac.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_-5.167817f1.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_-6.741c6ccf.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_-7.3fe11823.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_-8.785d88ae.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_-9.1155afc4.png\";","module.exports = __webpack_public_path__ + \"static/media/nivel_-10.fd4945f3.png\";","module.exports = __webpack_public_path__ + \"static/media/mapa_2.8d2cc11f.png\";","module.exports = __webpack_public_path__ + \"static/media/mapa_3.afae2a39.png\";","module.exports = __webpack_public_path__ + \"static/media/mapa_4.d0bb69a4.png\";","module.exports = __webpack_public_path__ + \"static/media/mapa_5.37495113.png\";","module.exports = __webpack_public_path__ + \"static/media/mapa_6.dcf7cd2a.png\";","module.exports = __webpack_public_path__ + \"static/media/mapa_7.21afd4e8.png\";","module.exports = __webpack_public_path__ + \"static/media/mapa_8.e4d75366.png\";","module.exports = __webpack_public_path__ + \"static/media/mapa_9.849e81c7.png\";","module.exports = __webpack_public_path__ + \"static/media/mapa_10.ead90a94.png\";","module.exports = __webpack_public_path__ + \"static/media/mapa_prueba_1.7d81dd3d.png\";","module.exports = __webpack_public_path__ + \"static/media/mapa_prueba_2.b4f4c89e.png\";","module.exports = __webpack_public_path__ + \"static/media/level21.d932a6e5.png\";","module.exports = __webpack_public_path__ + \"static/media/level22.11656010.png\";","module.exports = __webpack_public_path__ + \"static/media/level23.1078be56.png\";","module.exports = __webpack_public_path__ + \"static/media/gunar.4af1d9ae.png\";","module.exports = __webpack_public_path__ + \"static/media/aliena.149752c0.png\";","module.exports = __webpack_public_path__ + \"static/media/elba.d608a763.png\";","module.exports = __webpack_public_path__ + \"static/media/base.24f10f2e.png\";","module.exports = __webpack_public_path__ + \"static/media/elite.0e52328a.png\";","module.exports = __webpack_public_path__ + \"static/media/boss.db50a70f.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_enemigo_base.ac3b7551.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_enemigo_elite.cbcf4011.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_enemigo_boss.0cf4da52.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_azul.dc31dbc3.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_verde.27a0c692.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_rojo.d3ad0b5a.png\";","module.exports = __webpack_public_path__ + \"static/media/sumar_enemigos.d7f89fa5.png\";","module.exports = __webpack_public_path__ + \"static/media/restar_enemigos.28db9160.png\";","import React from 'react';\n\n/**\n * @class\n */\nclass Map extends React.Component {\n  componentDidMount() {\n    const { mapController } = this.props;\n    mapController.init();\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <div id=\"map\" className=\"map\" />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Map;","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport opener from 'assets/images/controls/opener_menu.png';\nimport marco from '../assets/images/decoration/marco.png';\nimport gema from 'assets/images/decoration/gema_verde.png'\n\nconst openArrow = {\n  backgroundImage: `url(${opener})`,\n  backgroundSize: 'contain',\n  backgroundRepeat: 'no-repeat',\n  height: '65px',\n  width: '65px',\n  margin: '5px'\n};\n\nconst circleImage = {\n  backgroundImage: `url(${gema})`,\n  backgroundSize: 'contain',\n  backgroundRepeat: 'no-repeat',\n  height: '75px',\n  width: '75px',\n}\n\nconst border = {\n  border: '15px solid',\n  borderImage: `url(${marco}) 30 30 round`,\n};\n\nexport default function SliderMenu(props) {\n  const { inheritedClasses, children, anchor } = props;\n  const useStyles = makeStyles(theme => ({\n    root: {\n      transition: theme.transitions.create(['all'], {\n        easing: theme.transitions.easing.easeInOut,\n        duration: '1s',\n      }),\n      ...inheritedClasses.root,\n      [theme.breakpoints.up('xl')]: {\n        ...inheritedClasses.rootLG,\n      }\n    },\n    root_close: {\n      transition: theme.transitions.create(['all'], {\n        easing: theme.transitions.easing.easeInOut,\n        duration: '1s',\n      }),\n      ...inheritedClasses.root_close,\n      [theme.breakpoints.up('xl')]: {\n        ...inheritedClasses.rootCloseLG,\n      }\n    },\n    drawer: {\n      ...inheritedClasses.drawer,\n      [theme.breakpoints.up('xl')]: {\n        ...inheritedClasses.drawerLG,\n      }\n    },\n    drawerPaper: {\n      ...border,\n      transition: theme.transitions.create(['all'], {\n        easing: theme.transitions.easing.easeInOut,\n        duration: '1s',\n      }),\n      ...inheritedClasses.drawerPaper,\n      [theme.breakpoints.up('xl')]: {\n        ...inheritedClasses.drawerPaperLG,\n      }\n    },\n    drawerPaper_close: {\n      ...border,\n      transition: theme.transitions.create(['all'], {\n        easing: theme.transitions.easing.easeInOut,\n        duration: '1s',\n      }),\n      ...inheritedClasses.drawerPaper_close,\n      [theme.breakpoints.up('xl')]: {\n        ...inheritedClasses.drawerPaperCloseLG,\n      }\n    },\n    opener: {\n      ...openArrow,\n      cursor: 'pointer',\n      transition: theme.transitions.create(['all'], {\n        easing: theme.transitions.easing.easeInOut,\n        duration: '1s',\n      }),\n      ...inheritedClasses.opener,\n      [theme.breakpoints.up('xl')]: {\n        ...inheritedClasses.openerLG,\n      }\n    },\n    opener_close: {\n      ...openArrow,\n      cursor: 'pointer',\n      transition: theme.transitions.create(['all'], {\n        easing: theme.transitions.easing.easeInOut,\n        duration: '1s',\n      }),\n      ...inheritedClasses.opener_close,\n      [theme.breakpoints.up('xl')]: {\n        ...inheritedClasses.openerCloseLG,\n      },\n    },\n    containerOpener: {\n      ...inheritedClasses.containerOpener,\n      ...circleImage,\n    },\n    containerOpener_close: {\n      ...inheritedClasses.containerOpener_close,\n      ...circleImage,\n    },\n    subcontainer: {\n      ...inheritedClasses.subcontainer,\n    }\n  }));\n\n  const classes = useStyles();\n\n  const [isOpen, open] = useState(props.open);\n\n  let openerClass = classes.opener;\n  let drawerClass = classes.drawerPaper;\n  let rootClass = classes.root;\n  let containerOpener = classes.containerOpener;\n  if (!isOpen) {\n    rootClass = classes.root_close;\n    openerClass = classes.opener_close;\n    drawerClass = classes.drawerPaper_close;\n    containerOpener = classes.containerOpener_close;\n  }\n\n  return (\n    <div className={rootClass}>\n      <div className={containerOpener}>\n        <div className={openerClass} onClick={() => open(!isOpen)} />\n      </div>\n      <CssBaseline />\n      <Drawer\n        className={classes.drawer}\n        variant=\"permanent\"\n        classes={{\n          paper: drawerClass,\n        }}\n        anchor={anchor}>\n        <div className={classes.subcontainer}>\n          {children}\n        </div>\n      </Drawer>\n    </div>\n  );\n}\n","import React from 'react';\nimport SliderMenu from './SliderMenu';\n\nconst drawerWidth = 240;\n\nexport default function TerritoryMenu(props) {\n\n  const { length } = props;\n\n  let height = `${150 * length}px`;\n  if (length < 3) {\n    height = 'auto';\n  }\n\n  return (\n    <SliderMenu\n      inheritedClasses={{\n        root: {\n          width: drawerWidth,\n          height: height,\n          position: 'absolute',\n          top: '200px',\n          left: '240px'\n        },\n        root_close: {\n          width: 0,\n          height: height,\n          position: 'absolute',\n          top: '200px',\n          left: 0,\n        },\n        drawer: {\n          flexShrink: 0,\n          width: drawerWidth,\n        },\n        drawerPaper: {\n          top: '200px',\n          backgroundColor: 'transparent',\n          height: height,\n          width: drawerWidth,\n          left: 0,\n        },\n        drawerPaper_close: {\n          backgroundColor: 'transparent',\n          top: '200px',\n          height: height,\n          width: drawerWidth,\n          left: '-240px',\n        },\n        opener: {\n          transform: 'rotate(45deg)',\n        },\n        opener_close: {\n        },\n        containerOpener: {\n          position: 'absolute',\n        },\n        containerOpener_close: {\n          position: 'absolute',\n        }\n      }} anchor={'left'}>\n      {props.children}\n    </SliderMenu>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    cursor: 'pointer',\n    opacity: 1,\n    backgroundColor: '#000',\n    border: '2px solid #eee',\n    padding: '2px',\n    borderRadius: '5px',\n    display: 'flex',\n  },\n  title: {\n    display: 'flex',\n    alignItems: 'center',\n    position: 'absolute',\n    opacity: 0,\n    width: '100%',\n  },\n  img: {\n    borderRadius: '3px',\n    width: '100%',\n    height: '150px%'\n  }\n}));\n\n/**\n * @class\n */\nfunction TerritoryPreview(props) {\n  const classes = useStyles()\n  return (\n    <div className={classes.root}>\n      <div className={classes.title}>\n        <Typography align=\"center\" variant=\"h4\">{props.id}</Typography>\n      </div>\n      <img src={props.src} onClick={() => props.onClick(props.name)} alt=\"territory\" className={classes.img} />\n    </div>\n  );\n}\n\nexport default TerritoryPreview;","/**\n * @public\n */\nexport const generateID = (instance) => {\n  const rand = Math.random().toString().slice(2);\n  return `${rand}_${instance}`;\n};\n\n/**\n * @public\n */\nexport const detectOverflow = (coord, extent) => {\n  const minX = extent[0];\n  const maxX = extent[2];\n  const minY = extent[1];\n  const maxY = extent[3];\n\n  const coordinates = [\n    Math.min(maxX, Math.max(coord[0], minX)),\n    Math.min(maxY, Math.max(coord[1], minY)),\n  ];\n\n  return coordinates\n};\n\n/**\n * @public\n */\nexport const validate = (options = {}, parameters = []) => {\n  parameters.forEach(parameter => {\n    if (!(parameter in options)) {\n      console.warn(`${parameter} is not setted.`);\n    }\n\n    if (parameter === null || parameter === undefined) {\n      console.warn(`${parameter} is null or undefined.`);\n    }\n  });\n};\n\n\n/**\n * @function\n */\nexport const getRegularPolygon = (center, radius, sides) => {\n  const oneDeg = Math.PI / 180;\n  const unit = (360 * oneDeg) / sides;\n  const angles = [];\n  for (let i = 0; i < sides; i++) {\n    angles.push(unit * i);\n  }\n  angles.push(0);\n\n  return angles.map(angle => [center[0] + radius * Math.cos(angle), center[1] + radius * Math.sin(angle)]);\n};\n","/**\n * Event bus\n * \n * @classdesc\n */\nclass EventBus {\n  constructor() {\n    this.subscribers = [];\n  }\n\n  /**\n   * @method\n   * @public\n   */\n  emit(eventType, args) {\n    const filteredSubs = this.filter(eventType);\n    filteredSubs.forEach((subscriber) => {\n      const { callback } = subscriber;\n      callback(args);\n    });\n  }\n\n  /**\n   * @method\n   * @public\n   */\n  addSubscriber(eventType, callback) {\n    if (typeof eventType === 'string' && typeof callback === 'function') {\n      this.subscribers.push({\n        eventType,\n        callback,\n      });\n    }\n  }\n\n  filter(evtType) {\n    return this.subscribers.filter(subscriber => subscriber.eventType === evtType);\n  }\n}\n\nexport default new EventBus();\n","import eventBus from '../event/EventBus';\n\n/**\n * Parent class of entities.\n * \n * @abstract\n * @class\n */\nexport default class Parent {\n  constructor() {\n    this.eventBus = eventBus;\n  }\n\n  /**\n   * @public\n   */\n  emit(eventType, args) {\n    this.eventBus.emit(eventType, args);\n  }\n\n  /**\n   * @public\n   */\n  on(eventType, callback) {\n    this.eventBus.addSubscriber(eventType, callback);\n  }\n\n  /**\n   * @public\n   */\n\n  equals() {}\n}\n","import Projection from 'ol/proj/Projection';\n\n/**\n * @constant\n */\nconst buffer = 500;\n\n/**\n * @constant\n */\nexport const extent = [0, 0, 1024, 768];\n\n/**\n * @constant\n */\nexport const projection = new Projection({\n  code: 'fantasy-proj',\n  units: 'pixels',\n  extent: extent\n});\n\n/**\n * @constant\n */\nexport const limit = [extent[0] - buffer, extent[1] - buffer / 2, extent[2] + buffer, extent[3] + buffer / 2];\n","import { Feature } from 'ol';\nimport { Point } from 'ol/geom';\nimport { Vector as VectorLayer } from 'ol/layer';\nimport { Vector as VectorSource } from 'ol/source';\nimport { Icon, Style } from 'ol/style';\nimport Parent from './Parent';\nimport { validate, getRegularPolygon } from '../util';\n\n/**\n * @class\n */\nexport default class GameToken extends Parent {\n  constructor(options = {}) {\n    super();\n\n    validate(options, ['id', 'coords', 'size', 'src', 'visionRange']);\n\n    /**\n     * @public\n     */\n    this.id = options.id;\n\n    /**\n     * @public\n     */\n    this.coords = options.coords || [500, 500];\n    /**\n     * @public\n     */\n    this.feature = new Feature(new Point(this.coords));\n\n    /**\n     * @public\n     */\n    this.size = options.size || [0, 0];\n\n    /**\n     * @public\n     */\n    this.scale = 0.05;\n\n\n    /**\n     * @public\n     */\n    this.image = new Icon({\n      scale: this.scale,\n      src: options.src,\n      size: [827, 827],\n    });\n\n    /**\n     * @public\n     */\n    this.style = new Style({\n      image: this.image,\n    });\n\n    /**\n     * @public\n     */\n    this.olLayer = new VectorLayer({\n      renderBuffer: 10000,\n      zIndex: options.zIndex,\n      source: new VectorSource({\n        features: [this.feature],\n      }),\n      style: (feature, resolution) => {\n        const proportion = resolution / 1.174250832408435;\n        if (resolution < 1) {\n          this.scale = 0.03 / proportion;\n        }\n\n        this.image.setScale(this.scale);\n\n        return this.style;\n      }\n    });\n\n    /**\n     * @public\n     */\n    this.visionRange = options.visionRange || 1;\n  }\n\n  /**\n   * @public\n   */\n  addTo(map) {\n    map.addLayer(this.olLayer);\n    this.emit('added_token', this);\n    window.map = map;\n  }\n\n  /**\n   * @public\n   */\n  activate() {\n    this.olLayer.setVisible(true);\n  }\n\n  /**\n   * @public\n   */\n  deactivate() {\n    this.olLayer.setVisible(false);\n  }\n\n  /**\n   * @public\n   */\n  getCoordinates() {\n    return this.feature.getGeometry().getCoordinates();\n  }\n\n  /**\n   * @function\n   */\n  getVisibilityRange() {\n    return this.size[0] * this.scale * this.visionRange;\n  }\n\n  getPixelsPosition(map) {\n    return map.getPixelFromCoordinate(this.getCoordinates());\n  }\n\n  getContainerPolygon() {\n    return getRegularPolygon(this.getCoordinates(), this.visionRange, 60);\n  }\n\n  /**\n   * This method compared the equality of this instance and other object\n   * \n   * @function\n   * @public\n   */\n  equals(object) {\n    return object instanceof GameToken && this.id === object.id;\n  }\n}\n","import GameToken from './GameToken';\nimport ImageLayer from 'ol/layer/Image';\nimport Static from 'ol/source/ImageStatic';\nimport { generateID } from '../util';\nimport Parent from './Parent';\nimport { projection, extent } from './constants';\n\n/**\n * @classdesc\n * @description\n */\nexport default class GameLevel extends Parent {\n  constructor(options = {}) {\n    super();\n\n    /**\n     * @public\n     * @type \n     */\n    this.id = generateID('gamelevel');\n\n    /**\n     * @public\n     */\n    this.name = options.name;\n\n    /**\n     * @public\n     */\n    this.active = !!options.active;\n\n    /**\n     * @public\n     */\n    this.zIndex = options.zIndex;\n\n    /**\n     * @public \n     * @type {OLImageLayer}\n     */\n    this.olLayer = new ImageLayer({\n      source: new Static({\n        url: options.src,\n        projection,\n        imageExtent: extent,\n      }),\n      visible: this.active,\n      zIndex: this.zIndex,\n    });\n\n    this.tokens = options.tokens || [];\n\n    this.tokens = this.tokens.map(token => new GameToken({ ...token, zIndex: this.zIndex + 1 }));\n  }\n\n  /**\n   * @function\n   * @public\n   */\n  addTo(map) {\n    map.addLayer(this.olLayer);\n    this.tokens.forEach(token => token.addTo(map));\n    this.emit('created_tokens', this.tokens);\n  }\n\n  /**\n   * @function\n   * @public\n   */\n  addTokens(tokens) {\n    this.tokens.concat(tokens);\n  }\n\n  activate() {\n    this.active = true;\n    this.olLayer.setVisible(true);\n    this.tokens.forEach(token => token.activate());\n  }\n\n  deactivate() {\n    this.active = false;\n    this.olLayer.setVisible(false);\n    this.tokens.forEach(token => token.deactivate());\n  }\n\n  /**\n   * This method compared the equality of this instance and other object\n   * \n   * @function\n   * @public\n   */\n  equals(object) {\n    return object instanceof GameLevel && this.id === object.id;\n  }\n}\n","import { generateID } from '../util'\nimport Parent from './Parent';\nimport GameLevel from './GameLevel';\n\n/**\n * @classdesc\n * @description\n */\nexport default class Territory extends Parent {\n  constructor(options = {}) {\n    super();\n\n    /**\n     * @public\n     * @type \n     */\n    this.id = generateID('territory');\n\n    /**\n     * @public\n     */\n    this.name = options.name;\n\n    /**\n     * @public\n     */\n    this.active = !!options.active;\n\n    /**\n     * @public \n     * @type {OLImageLayer}\n     */\n    this.gameLevels = options.gameLevels.map(config => new GameLevel({ ...config, active: this.active }));\n\n  }\n\n  addTo(map) {\n    this.gameLevels.forEach(gameLevel => gameLevel.addTo(map));\n  }\n\n\n  activate() {\n    this.active = true;\n    this.gameLevels.forEach(gameLevel => gameLevel.activate());\n  }\n\n  deactivate() {\n    this.active = false;\n    this.gameLevels.forEach(gameLevel => gameLevel.deactivate());\n  }\n\n  /**\n   * This method compared the equality of this instance and other object\n   * \n   * @function\n   * @public\n   */\n  equals(object) {\n    return object instanceof Territory && this.id === object.id;\n  }\n}\n","import { Vector as VectorLayer } from \"ol/layer\";\nimport { Vector as VectorSource } from \"ol/source\";\nimport { Feature } from \"ol\";\nimport { Polygon, MultiPolygon } from \"ol/geom\";\nimport Style from \"ol/style/Style\";\nimport { Fill } from \"ol/style\";\nimport { extent } from './constants';\nimport Parent from './Parent';\nimport difference from '@turf/difference/index.js';\nimport { polygon as createPolygon } from '@turf/helpers';\nimport mistImage from '../../assets/images/misc/mist.png'\n\n\n/**\n * @class\n */\nexport default class MistManager extends Parent {\n  constructor(translate, map) {\n    super();\n\n    this.translate = translate;\n\n    this.map = map;\n\n    this.tokens = []\n\n    this.on('created_tokens', tokens => {\n      if (tokens.length > 0) {\n        this.tokens = tokens;\n        this.createCircleMist();\n      }\n    });\n\n    this.addTranslateEvent();\n    this.geometry = new Polygon([\n      [\n        [extent[0], extent[1]],\n        [extent[0], extent[3]],\n        [extent[2], extent[3]],\n        [extent[2], extent[1]],\n        [extent[0], extent[1]],\n\n      ]\n    ]);\n\n    this.feature = new Feature({\n      geometry: this.geometry,\n    });\n\n    this.layer = new VectorLayer({\n      renderBuffer: 10000,\n      source: new VectorSource({\n        features: [this.feature],\n      }),\n      style: new Style({\n        fill: new Fill({\n          color: \"#eee\",\n        }),\n      }),\n      zIndex: 1000,\n    });\n\n    this.layer.set('id', 'mist');\n\n    this.active = false;\n\n\n    /**\n     * Create mist style image\n     */\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    const img = new Image();\n    img.onload = () => {\n      img.width = 2000;\n      img.height = 2000;\n      ctx.drawImage(img, 0, 0, 4726 * 5, 5231 * 5, 0, 0, 2000, 2000);\n      const pattern = ctx.createPattern(canvas, 'repeat');\n      const style = new Style({\n        fill: new Fill({\n          color: pattern,\n        }),\n      });\n      this.layer.setStyle(style);\n    }\n    img.src = mistImage;\n  }\n\n  addTo(map) {\n    this.map = map;\n    this.map.addLayer(this.layer);\n    this.layer.setVisible(false);\n  }\n\n  setActive(flag) {\n    this.active = !!flag;\n    this.layer.setVisible(this.active);\n    if (flag) {\n      this.addTranslateEvent();\n    } else {\n      this.removeTranslaterEvent();\n    }\n  }\n\n  createCircleMistEvent = () => {\n    // this.createCircleMist();\n  };\n\n  addTranslateEvent = () => {\n    const id = this.translate.on('translating', this.createCircleMistEvent);\n    console.log(id);\n  };\n\n  removeTranslaterEvent = () => {\n    this.translate.un('translating', this.createCircleMistEvent);\n  };\n\n  createCircleMist() {\n    const polygonCoords = this.geometry.getCoordinates();\n    let newGeom = new Polygon(polygonCoords);\n    let diff;\n    this.tokens.forEach(token => {\n\n      const coords = newGeom.getCoordinates();\n      const coordinates = token.getContainerPolygon();\n      const polygon = createPolygon(coords);\n      const circle = createPolygon([coordinates]);\n\n      diff = difference(polygon, circle);\n      if (diff.geometry.type === 'MultiPolygon') {\n        newGeom = new MultiPolygon();\n      }\n      newGeom.setCoordinates(diff.geometry.coordinates);\n\n    })\n    this.feature.setGeometry(newGeom);\n  }\n}\n","import { generateID } from '../util';\nimport Parent from './Parent';\nimport Map from 'ol/Map';\nimport View from 'ol/View';\nimport { extent, limit, projection } from './constants';\nimport { Translate } from 'ol/interaction';\nimport { getCenter } from 'ol/extent';\nimport Territory from './Territory';\nimport MistManager from './Mist';\n\n/**\n * @classdesc\n * @description\n */\nexport default class Game extends Parent {\n  constructor(options = {}) {\n    super();\n\n    /**\n     * @public\n     * @type \n     */\n    this.id = generateID('game');\n\n    /**\n     * @public\n     */\n    this.title = options.title;\n\n    /**\n     * @public \n     * @type {OLImageLayer}\n     */\n    this.map = new Map({\n      controls: [],\n      target: 'map',\n      view: new View({\n        projection: projection,\n        center: getCenter(extent),\n        zoom: 0,\n        maxZoom: 8,\n        extent: limit,\n      }),\n    });\n\n    this.translate = new Translate({\n      filter: (feature, layer) => layer.get('id') !== 'mist',\n    });\n    this.map.addInteraction(this.translate);\n\n    this.mistManger = new MistManager(this.translate);\n\n    this.mistManger.addTo(this.map);\n    window.game = this;\n    /**\n     * @public\n     */\n    this.territories = options.territories.map(config => new Territory(config));\n\n    this.territories.forEach(territory => territory.addTo(this.map));\n  }\n\n  setActive(name) {\n    this.territories.forEach(territory => territory.deactivate());\n    this.territories.find(territory => territory.name === name).activate();\n  }\n\n  /**\n   * This method compared the equality of this instance and other object\n   * \n   * @function\n   * @public\n   */\n  equals(object) {\n    return object instanceof Game && this.id === object.id;\n  }\n}\n","import Game from '../entities/Game';\n\nclass MapController {\n\n  init() {\n    // TODO: Manejar mas de un juego\n\n    const { games } = this.configuration;\n\n    this.game = new Game(games[0]);\n  }\n\n  setActive(name) {\n    this.game.setActive(name);\n  }\n}\n\nconst mapController = new MapController();\n\nconst MapControllerBuilder = (conf) => {\n  mapController.configuration = conf;\n  return mapController;\n}\n\nexport default MapControllerBuilder;\n","import React from 'react';\nimport SliderMenu from './SliderMenu';\n\n\nexport default function PlayersMenu(props) {\n  return (\n    <SliderMenu\n      inheritedClasses={{\n        root: {\n          top: 0,\n          left: 'calc(100% - 470px)',\n          height: '220px',\n          position: 'absolute',\n        },\n        root_close: {\n          top: 0,\n          left: 'calc(100% - 75px)',\n          height: '220px',\n          position: 'absolute',\n        },\n        drawerPaper: {\n          width: '420px',\n          left: 'calc(100% - 420px)',\n          top: 0,\n          backgroundColor: 'transparent',\n          height: 'unset',\n          maxHeight: '100%',\n          border: 'none'\n        },\n        drawerPaper_close: {\n          width: '420px',\n          left: '100%',\n          top: 0,\n          backgroundColor: 'transparent',\n          height: 'unset',\n          maxHeight: '100%',\n          border: 'none'\n        },\n        opener: {\n          transform: 'rotate(-45deg)',\n        },\n        opener_close: {\n        },\n        containerOpener: {\n          zIndex: 2000,\n          top: '50px',\n          left: '10%',\n          position: 'absolute',\n        },\n        containerOpener_close: {\n          top: '50px',\n          position: 'absolute',\n          left: '90%',\n        },\n        subcontainer: {\n          display: 'flex',\n          flexDirection: 'column',\n          maxHeight: '100%',\n        }\n      }} anchor={'right'}>\n      {props.children}\n    </SliderMenu>\n  );\n}\n","import React from 'react';\nimport SliderMenu from './SliderMenu';\n\n\nexport default function EnemiesMenu(props) {\n  return (\n    <SliderMenu\n      inheritedClasses={{\n        root: {\n          top: '100px',\n          left: 'calc(100% - 530px)',\n          height: '220px',\n          position: 'absolute',\n        },\n        root_close: {\n          top: '100px',\n          left: 'calc(100% - 75px)',\n          height: '220px',\n          position: 'absolute',\n        },\n        drawerPaper: {\n          width: '450px',\n          left: 'calc(100% - 460px)',\n          top: 0,\n          backgroundColor: 'transparent',\n          height: 'unset',\n          maxHeight: '100%',\n          border: 'none',\n        },\n        drawerPaper_close: {\n          width: '450px',\n          left: '100%',\n          top: 0,\n          backgroundColor: 'transparent',\n          height: 'unset',\n          maxHeight: '100%',\n          border: 'none',\n        },\n        opener: {\n          transform: 'rotate(-45deg)',\n        },\n        opener_close: {\n        },\n        containerOpener: {\n          zIndex: 2000,\n          top: '50px',\n          left: '10%',\n          position: 'absolute',\n        },\n        containerOpener_close: {\n          top: '50px',\n          position: 'absolute',\n          left: '90%',\n        },\n        subcontainer: {\n          display: 'flex',\n          flexDirection: 'column',\n          maxHeight: '100%',\n        }\n      }} anchor={'right'}>\n      {props.children}\n    </SliderMenu>\n  );\n}\n","import React from 'react';\nimport nivel_0 from 'assets/images/controls/nivel_0.png';\nimport nivel_1 from 'assets/images/controls/nivel_1.png';\nimport nivel_2 from 'assets/images/controls/nivel_2.png';\nimport nivel_3 from 'assets/images/controls/nivel_3.png';\nimport nivel_4 from 'assets/images/controls/nivel_4.png';\nimport nivel_5 from 'assets/images/controls/nivel_5.png';\nimport nivel_6 from 'assets/images/controls/nivel_6.png';\nimport nivel_7 from 'assets/images/controls/nivel_7.png';\nimport nivel_8 from 'assets/images/controls/nivel_8.png';\nimport nivel_9 from 'assets/images/controls/nivel_9.png';\nimport nivel_10 from 'assets/images/controls/nivel_10.png';\nimport nivel_neg_1 from 'assets/images/controls/nivel_-1.png';\nimport nivel_neg_2 from 'assets/images/controls/nivel_-2.png';\nimport nivel_neg_3 from 'assets/images/controls/nivel_-3.png';\nimport nivel_neg_4 from 'assets/images/controls/nivel_-4.png';\nimport nivel_neg_5 from 'assets/images/controls/nivel_-5.png';\nimport nivel_neg_6 from 'assets/images/controls/nivel_-6.png';\nimport nivel_neg_7 from 'assets/images/controls/nivel_-7.png';\nimport nivel_neg_8 from 'assets/images/controls/nivel_-8.png';\nimport nivel_neg_9 from 'assets/images/controls/nivel_-9.png';\nimport nivel_neg_10 from 'assets/images/controls/nivel_-10.png';\nimport flecha_inferior from 'assets/images/controls/flechas_inferior.png';\nimport flecha_superior from 'assets/images/controls/flechas_superior.png';\nimport { withStyles } from '@material-ui/core/styles';\nimport classNames from 'classnames';\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  arrows: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%'\n  },\n  arrow_up: {\n    cursor: 'pointer',\n    margin: '0  0 -8px 48%',\n  },\n  arrow_down: {\n    cursor: 'pointer',\n    margin: '-8px 0 0 48%',\n  }\n});\n\nconst levels =\n{\n  \"0\": nivel_0,\n  \"1\": nivel_1,\n  \"2\": nivel_2,\n  \"3\": nivel_3,\n  \"4\": nivel_4,\n  \"5\": nivel_5,\n  \"6\": nivel_6,\n  \"7\": nivel_7,\n  \"8\": nivel_8,\n  \"9\": nivel_9,\n  \"10\": nivel_10,\n  \"-1\": nivel_neg_1,\n  \"-2\": nivel_neg_2,\n  \"-3\": nivel_neg_3,\n  \"-4\": nivel_neg_4,\n  \"-5\": nivel_neg_5,\n  \"-6\": nivel_neg_6,\n  \"-7\": nivel_neg_7,\n  \"-8\": nivel_neg_8,\n  \"-9\": nivel_neg_9,\n  \"-10\": nivel_neg_10,\n};\n\n\n/**\n * @class\n */\nclass Levels extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      level: 0,\n      imgLevel: nivel_0,\n    }\n  }\n\n  onChangeDown = () => {\n    const { level } = this.state;\n\n    const newLevel = level - 1;\n    const imgLevel = levels[newLevel];\n    if (newLevel > -11) {\n      this.setState({\n        level: newLevel,\n        imgLevel\n      });\n    }\n  };\n\n  onChangeUp = () => {\n    const { level } = this.state;\n\n    const newLevel = level + 1;\n    const imgLevel = levels[newLevel];\n    if (newLevel < 11) {\n      this.setState({\n        level: newLevel,\n        imgLevel,\n      });\n    }\n  };\n\n  render() {\n    const { classes, inheritedClasses } = this.props;\n    const { imgLevel } = this.state;\n\n\n    return (\n      <div className={classNames(inheritedClasses ? inheritedClasses.root : null, classes.root)}>\n        <img src={flecha_superior} className={classNames(inheritedClasses ? inheritedClasses.arrow_up : null, classes.arrow_up)} width=\"20%\" alt=\"arrow_up\" onClick={this.onChangeUp} />\n        <img src={imgLevel} alt=\"level\" width=\"80%\" />\n        <img src={flecha_inferior} className={classNames(inheritedClasses ? inheritedClasses.arrow_down : null, classes.arrow_down)} width=\"20%\" alt=\"arrow_down\" onClick={this.onChangeDown} />\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(Levels);","import React from 'react';\nimport mapa_1 from 'assets/images/controls/mapa_1.png';\nimport mapa_2 from 'assets/images/controls/mapa_2.png';\nimport mapa_3 from 'assets/images/controls/mapa_3.png';\nimport mapa_4 from 'assets/images/controls/mapa_4.png';\nimport mapa_5 from 'assets/images/controls/mapa_5.png';\nimport mapa_6 from 'assets/images/controls/mapa_6.png';\nimport mapa_7 from 'assets/images/controls/mapa_7.png';\nimport mapa_8 from 'assets/images/controls/mapa_8.png';\nimport mapa_9 from 'assets/images/controls/mapa_9.png';\nimport mapa_10 from 'assets/images/controls/mapa_10.png';\nimport flecha_inferior from 'assets/images/controls/flechas_inferior.png';\nimport flecha_superior from 'assets/images/controls/flechas_superior.png';\nimport { withStyles } from '@material-ui/core/styles';\nimport classNames from 'classnames';\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  arrows: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%'\n  },\n  arrow_up: {\n    cursor: 'pointer',\n    margin: '0  0 -8px 48%',\n  },\n  arrow_down: {\n    cursor: 'pointer',\n    margin: '-8px 0 0 48%',\n  }\n});\n\nconst territories =\n{\n  \"1\": mapa_1,\n  \"2\": mapa_2,\n  \"3\": mapa_3,\n  \"4\": mapa_4,\n  \"5\": mapa_5,\n  \"6\": mapa_6,\n  \"7\": mapa_7,\n  \"8\": mapa_8,\n  \"9\": mapa_9,\n  \"10\": mapa_10,\n};\n\n\n/**\n * @class\n */\nclass Territories extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      level: 0,\n      imgLevel: mapa_1,\n    }\n  }\n\n  onChangeDown = () => {\n    const { level } = this.state;\n\n    const newTerritory = level - 1;\n    const imgLevel = territories[newTerritory];\n    if (newTerritory > 0) {\n      this.setState({\n        level: newTerritory,\n        imgLevel\n      });\n    }\n  };\n\n  onChangeUp = () => {\n    const { level } = this.state;\n\n    const newTerritory = level + 1;\n    const imgLevel = territories[newTerritory];\n    if (newTerritory < 11) {\n      this.setState({\n        level: newTerritory,\n        imgLevel,\n      });\n    }\n  };\n\n  render() {\n    const { classes, inheritedClasses } = this.props;\n    const { imgLevel } = this.state;\n\n\n    return (\n      <div className={classNames(inheritedClasses ? inheritedClasses.root : null, classes.root)}>\n        <img src={flecha_superior} className={classNames(inheritedClasses ? inheritedClasses.arrow_up : null, classes.arrow_up)} width=\"20%\" alt=\"arrow_up\" onClick={this.onChangeUp} />\n        <img src={imgLevel} alt=\"territory\" width=\"80%\" />\n        <img src={flecha_inferior} className={classNames(inheritedClasses ? inheritedClasses.arrow_down : null, classes.arrow_down)} width=\"20%\" alt=\"arrow_down\" onClick={this.onChangeDown} />\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(Territories);","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Levels from './Levels';\nimport Territories from './Territories';\n\nconst styles = theme => ({\n  root: {\n    padding: '2px',\n    display: 'flex',\n    alignItems: 'center',\n    backgroundColor: 'transparent',\n    borderRadius: '5px',\n    backgroundSize: 'contain',\n    backgroundRepeat: 'no-repeat',\n    justifyContent: 'center',\n    height: '220px',\n  },\n  imgContainer: {\n    cursor: 'pointer',\n  },\n  controls: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  levels: {\n    width: '200px',\n    alignItems: 'center'\n  },\n  arrow_up: {\n    margin: '0 0 0 35%'\n  },\n  arrow_down: {\n    margin: '0 0 0 35%'\n  }\n});\n\n\n/**\n * @class\n */\nclass PlayerManager extends React.Component {\n  render() {\n    const { classes, src, width, background } = this.props;\n    return (\n      <div className={classes.root} style={{ backgroundImage: `url(${background})` }}>\n        <div className={classes.controls}>\n          <Territories inheritedClasses={{ root: classes.levels, arrow_up: classes.arrow_up, arrow_down: classes.arrow_down }} />\n          <Levels inheritedClasses={{ root: classes.levels, arrow_up: classes.arrow_up, arrow_down: classes.arrow_down }} />\n        </div>\n        <div className={classes.imgContainer}>\n          <img src={src} alt=\"player\" width={width} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(PlayerManager);","import level11_img from '../assets/images/levels/mapa_prueba_1.png'\nimport level21_img from '../assets/images/levels/mapa_prueba_2.png'\nimport level12_img from '../assets/images/levels/level21.png'\nimport level22_img from '../assets/images/levels/level22.png'\nimport level23_img from '../assets/images/levels/level23.png'\nimport gunar from '../assets/images/pjs/gunar.png'\nimport aliena from '../assets/images/pjs/aliena.png'\nimport elba from '../assets/images/pjs/elba.png'\nimport baseEnemy from 'assets/images/enemies/base.png';\nimport eliteEnemy from 'assets/images/enemies/elite.png';\nimport bossEnemy from 'assets/images/enemies/boss.png';\n\nimport backgroundBase from 'assets/images/banners/banner_enemigo_base.png';\nimport backgroundElite from 'assets/images/banners/banner_enemigo_elite.png';\nimport backgroundBoss from 'assets/images/banners/banner_enemigo_boss.png';\n\nimport banner_azul from 'assets/images/banners/banner_azul.png';\nimport banner_verde from 'assets/images/banners/banner_verde.png';\nimport banner_rojo from 'assets/images/banners/banner_rojo.png';\n\n\nexport const enemyTokens = [{\n    src: baseEnemy,\n    size: [827, 827],\n    background: backgroundBase\n  },\n  {\n    src: eliteEnemy,\n    size: [827, 827],\n    background: backgroundElite\n  },\n  {\n    src: bossEnemy,\n    size: [827, 827],\n    background: backgroundBoss\n  }\n];\n\nconst gunarToken = {\n  id: 'gunar',\n  src: gunar,\n  background: banner_azul,\n  size: [827, 827],\n  visionRange: 30,\n  coords: [120, 120]\n};\n\nconst alienaToken = {\n  id: 'aliena',\n  src: aliena,\n  background: banner_rojo,\n  size: [827, 827],\n  visionRange: 30,\n  coords: [140, 140]\n};\n\nconst elbaToken = {\n  id: 'elba',\n  src: elba,\n  background: banner_verde,\n  size: [827, 827],\n  visionRange: 50,\n  coords: [100, 100]\n};\n\nexport const playerTokens = [\n  gunarToken, alienaToken, elbaToken\n];\n\nconst level11 = {\n  tokens: playerTokens,\n  name: 'level11',\n  zIndex: 0,\n  src: level11_img,\n};\n\nconst level12 = {\n  name: 'level12',\n  zIndex: -2,\n  src: level12_img,\n};\n\nconst level21 = {\n  name: 'level21',\n  zIndex: 4,\n  src: level21_img,\n};\n\nconst level22 = {\n  name: 'level22',\n  zIndex: 0,\n  src: level22_img,\n};\n\nconst level23 = {\n  name: 'level23',\n  zIndex: 2,\n  src: level23_img,\n};\n\nconst territory1 = {\n  name: 'territory1',\n  gameLevels: [level11, level12],\n  active: true,\n};\n\nconst territory2 = {\n  name: 'territory2',\n  gameLevels: [level21, level22, level23],\n};\n\nconst game2 = {\n  title: 'Campaa 2',\n  territories: [territory1, territory2],\n};\n\nconst configuration = {\n  games: [game2],\n};\n\n\nexport default configuration;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classNames from 'classnames';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '400px',\n    position: 'absolute',\n    top: 0,\n  },\n  right: {\n    right: 0,\n  }\n}));\n\nexport default function Menu(props) {\n  const classes = useStyles();\n\n  const { anchor } = props;\n\n  let rootClass = classes.root;\n  if (anchor === 'right') {\n    rootClass = classNames(classes.root, classes.right);\n  }\n\n  return (\n    <div className={rootClass}>\n      {props.children}\n    </div>\n  );\n}\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport addSrc from 'assets/images/controls/sumar_enemigos.png';\nimport removeSrc from 'assets/images/controls/restar_enemigos.png';\n\nconst styles = theme => {\n  return {\n    root: {\n      padding: '0 100px',\n      display: 'flex',\n      alignItems: 'center',\n      borderRadius: '5px',\n      backgroundSize: 'contain',\n      backgroundRepeat: 'no-repeat',\n      height: '260px',\n    },\n    imgContainer: {\n      cursor: 'pointer',\n    },\n    controls: {\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    mapSelector: {\n      backgroundColor: '#f00',\n      width: '60%',\n      height: '100%',\n    },\n    containerButtons: {\n      padding: '5px 0',\n      cursor: 'pointer',\n    }\n  }\n};\n\n\n/**\n * @class\n */\nclass EnemyManager extends React.Component {\n  render() {\n    const { classes, src, width, background } = this.props;\n    return (\n      <div className={classes.root} style={{ backgroundImage: `url(${background})` }}>\n        <div className={classes.controls}>\n          <div className={classes.containerButtons}>\n            <img src={addSrc} alt=\"add\" width=\"45\" />\n          </div>\n          <div className={classes.containerButtons}>\n            <img src={removeSrc} alt=\"remove\" width=\"45\" />\n          </div>\n        </div>\n        <div className={classes.imgContainer}>\n          <img src={src} alt=\"enemy\" width={width} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(EnemyManager);","import React from 'react';\nimport Map from './Map';\nimport TerritoryMenu from './TerritoryMenu';\nimport TerritoryPreview from './TerritoryPreview';\nimport builder from '../lib/controllers/Map';\nimport PlayersMenu from './PlayersMenu';\nimport EnemiesMenu from './EnemiesMenu';\nimport PlayerManager from './PlayerManager';\nimport { playerTokens, enemyTokens } from 'configuration/configuration';\nimport Menu from './Menu';\nimport Levels from './Levels';\nimport Territories from './Territories';\nimport EnemyManager from './EnemyManager';\n\nclass App extends React.Component {\n\n  onClick = (name) => {\n    this.mapController.setActive(name);\n  }\n\n  render() {\n    //TODO: Manejar mas de un juego \n\n\n    const { territories } = this.props.configuration.games[0];\n    const { configuration } = this.props;\n    const mapController = builder(configuration);\n    this.mapController = mapController;\n\n    const length = Math.min(3, territories.length);\n\n    return (\n      <React.Fragment>\n        <Map {...this.props} mapController={mapController} />\n        <Menu anchor={'right'}>\n          <Levels />\n        </Menu>\n        <Menu>\n          <Territories />\n        </Menu>\n        <TerritoryMenu length={length}>\n          {territories.map(territory => <TerritoryPreview key={Math.random()} onClick={this.onClick} name={territory.name} src={territory.gameLevels[0].src} />)}\n        </TerritoryMenu>\n\n        <EnemiesMenu>\n          {enemyTokens.map(enemy => <EnemyManager key={Math.random()} background={enemy.background} src={enemy.src} width={enemy.size[0] / 4} />)}\n        </EnemiesMenu>\n\n        <PlayersMenu>\n          {playerTokens.map(player => <PlayerManager key={player.id} background={player.background} src={player.src} width={player.size[0] / 5} />)}\n        </PlayersMenu>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","import './assets/css/index.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport configuration from './configuration/configuration';\n\nReactDOM.render(<App configuration={configuration} />, document.getElementById('root'));\n"],"sourceRoot":""}